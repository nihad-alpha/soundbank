<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- CSS -->
	<link rel="stylesheet" href="assets/css/bootstrap-reboot.min.css">
	<link rel="stylesheet" href="assets/css/bootstrap-grid.min.css">
	<link rel="stylesheet" href="assets/css/owl.carousel.min.css">
	<link rel="stylesheet" href="assets/css/magnific-popup.css">
	<link rel="stylesheet" href="assets/css/select2.min.css">
	<link rel="stylesheet" href="assets/css/paymentfont.min.css">
	<link rel="stylesheet" href="assets/css/slider-radio.css">
	<link rel="stylesheet" href="assets/css/plyr.css">
	<link rel="stylesheet" href="assets/css/main.css">

	<!-- Favicons -->
	<link rel="icon" type="image/png" href="assets/icon/favicon-32x32.png" sizes="32x32">
	<link rel="apple-touch-icon" href="assets/icon/favicon-32x32.png">

	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="Dmitry Volkov">
	<title>Soundbank</title>

</head>
<body>
				<!-- registration form -->
				<div class="col-12">
					<div class="sign" style = "margin-top:5%">
						<div class="sign__content">
							<form action="#" class="sign__form">
								<a href="index.html" class="sign__logo">
									<img src="assets/img/logo.png" alt="">
								</a>

								<div class="sign__group">
									<input id="username" type="text" class="sign__input" placeholder="Username">
								</div>

								<div class="sign__group">
									<input id="email" type="text" class="sign__input" placeholder="Email">
								</div>

								<div class="sign__group">
									<input id="password" type="password" class="sign__input" placeholder="Password">
								</div>

								<div class="sign__group sign__group--checkbox">
									<input id="remember" name="remember" type="checkbox" checked="checked">
									<label for="remember">I agree to the <a href="privacy.html">Privacy Policy</a></label>
								</div>
								
								<button id = "signup-button" onclick="register()" class="sign__btn" type="button">Sign up</button>

								<span class="sign__text">Already have an account? <a href="signin.html">Sign in!</a></span>
							</form>
						</div>
					</div>
				</div>
				<!-- end registration form -->
	<!-- JS -->
	<script src="assets/js/jquery-3.5.1.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/owl.carousel.min.js"></script>
	<script src="assets/js/jquery.magnific-popup.min.js"></script>
	<script src="assets/js/smooth-scrollbar.js"></script>
	<script src="assets/js/select2.min.js"></script>
	<script src="assets/js/slider-radio.js"></script>
	<script src="assets/js/jquery.inputmask.min.js"></script>
	<script src="assets/js/plyr.min.js"></script>
	<script src="assets/js/main.js"></script>
</body>
<script>
	function register() {
		var registration_json = {
			"email" : $("#email").val(),
			"password" : $("#password").val(),
			"username" : $("#username").val()
		};

		$("#signup-button").prop('disabled', true);

		$.post("api/accounts/register", registration_json, function(data){
				alert(data.message);
				window.location = "signin.html";
			}).fail(function(error) {
				alert(error.responseJSON.message);
				$("#signup-button").prop('disabled', false);
			});
	}
</script>
</html>